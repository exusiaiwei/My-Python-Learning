<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.551">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>My Python Studying - 4&nbsp; Functions</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./modules.html" rel="next">
<link href="./control_flow.html" rel="prev">
<link href="./python-logo-only.svg" rel="icon" type="image/svg+xml">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>


</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./functions.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Functions</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
<<<<<<<< HEAD:my_python_learning_en/docs/functions.html
      <a href="./">My Python Studying</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/exusiaiwei/My-Python-Learning" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Download" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download"><i class="bi bi-download"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./My-Python-Studying.pdf">
              <i class="bi bi-bi-file-pdf pe-1"></i>
            Download PDF
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./My-Python-Studying.epub">
              <i class="bi bi-bi-journal pe-1"></i>
            Download ePub
            </a>
          </li>
      </ul>
    </div>
========
      <a href="./">我的Python学习笔记</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/exusiaiwei/My-Python-Learning" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
>>>>>>>> a0da713bf4678cbc45fcc0a7673f704354266d0e:my_python_learning_zh/docs/functions.html
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./basic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Basic</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./operators_and_expressions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Operators and Expressions</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./control_flow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Control Flow</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./functions.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Functions</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./modules.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Modules</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_structures.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Data Structures</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./problem_solving.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Problem Solving</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./object_oriented_programming.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Object-Oriented Programming</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./input_and_output.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Input and Output</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exceptions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Exceptions</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./standard_library.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Standard Library</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./more.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">More</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">参考文献</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
<<<<<<<< HEAD:my_python_learning_en/docs/functions.html
  <li><a href="#function-parameters" id="toc-function-parameters" class="nav-link active" data-scroll-target="#function-parameters"><span class="header-section-number">4.1</span> Function Parameters</a></li>
  <li><a href="#local-variables" id="toc-local-variables" class="nav-link" data-scroll-target="#local-variables"><span class="header-section-number">4.2</span> Local Variables</a></li>
  <li><a href="#the-global-statement" id="toc-the-global-statement" class="nav-link" data-scroll-target="#the-global-statement"><span class="header-section-number">4.3</span> The global statement</a></li>
  <li><a href="#default-parameter-values" id="toc-default-parameter-values" class="nav-link" data-scroll-target="#default-parameter-values"><span class="header-section-number">4.4</span> Default Parameter Values</a></li>
  <li><a href="#keyword-arguments" id="toc-keyword-arguments" class="nav-link" data-scroll-target="#keyword-arguments"><span class="header-section-number">4.5</span> Keyword Arguments</a></li>
  <li><a href="#variable-arguments" id="toc-variable-arguments" class="nav-link" data-scroll-target="#variable-arguments"><span class="header-section-number">4.6</span> Variable Arguments</a></li>
  <li><a href="#the-return-statement" id="toc-the-return-statement" class="nav-link" data-scroll-target="#the-return-statement"><span class="header-section-number">4.7</span> The <code>return</code> Statement</a></li>
  <li><a href="#docstrings" id="toc-docstrings" class="nav-link" data-scroll-target="#docstrings"><span class="header-section-number">4.8</span> Docstrings</a></li>
========
  <li><a href="#函数参数" id="toc-函数参数" class="nav-link active" data-scroll-target="#函数参数"><span class="header-section-number">4.1</span> 函数参数</a></li>
  <li><a href="#局部变量" id="toc-局部变量" class="nav-link" data-scroll-target="#局部变量"><span class="header-section-number">4.2</span> 局部变量</a></li>
  <li><a href="#global-语句" id="toc-global-语句" class="nav-link" data-scroll-target="#global-语句"><span class="header-section-number">4.3</span> global 语句</a></li>
  <li><a href="#默认参数值" id="toc-默认参数值" class="nav-link" data-scroll-target="#默认参数值"><span class="header-section-number">4.4</span> 默认参数值</a></li>
  <li><a href="#关键字参数" id="toc-关键字参数" class="nav-link" data-scroll-target="#关键字参数"><span class="header-section-number">4.5</span> 关键字参数</a></li>
  <li><a href="#可变参数" id="toc-可变参数" class="nav-link" data-scroll-target="#可变参数"><span class="header-section-number">4.6</span> 可变参数</a></li>
  <li><a href="#return-语句" id="toc-return-语句" class="nav-link" data-scroll-target="#return-语句"><span class="header-section-number">4.7</span> <code>return</code> 语句</a></li>
  <li><a href="#文档字符串" id="toc-文档字符串" class="nav-link" data-scroll-target="#文档字符串"><span class="header-section-number">4.8</span> 文档字符串</a></li>
  <li><a href="#装饰器" id="toc-装饰器" class="nav-link" data-scroll-target="#装饰器"><span class="header-section-number">4.9</span> 装饰器</a>
  <ul class="collapse">
  <li><a href="#基本使用" id="toc-基本使用" class="nav-link" data-scroll-target="#基本使用"><span class="header-section-number">4.9.1</span> 基本使用</a></li>
  <li><a href="#带参数的函数装饰器" id="toc-带参数的函数装饰器" class="nav-link" data-scroll-target="#带参数的函数装饰器"><span class="header-section-number">4.9.2</span> 带参数的函数装饰器</a></li>
  <li><a href="#带参数的装饰器" id="toc-带参数的装饰器" class="nav-link" data-scroll-target="#带参数的装饰器"><span class="header-section-number">4.9.3</span> 带参数的装饰器</a></li>
  <li><a href="#装饰器的实际应用" id="toc-装饰器的实际应用" class="nav-link" data-scroll-target="#装饰器的实际应用"><span class="header-section-number">4.9.4</span> 装饰器的实际应用</a></li>
  </ul></li>
>>>>>>>> a0da713bf4678cbc45fcc0a7673f704354266d0e:my_python_learning_zh/docs/functions.html
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/exusiaiwei/My-Python-Learning/edit/main/functions.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Functions</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<<<<<<<< HEAD:my_python_learning_en/docs/functions.html
<p>Functions are basic building blocks in programming that allow us to name a block of code and reuse it wherever needed. The act of executing these statements is called calling the function.</p>
<p>In our learning process, we have already come across and used many of Python’s built-in functions like <code>len</code> and <code>range</code>.</p>
<p>We use the <code>def</code> keyword to define functions. The <code>def</code> keyword is followed by the function name and parentheses <code>()</code>. The parentheses may contain some parameters (preset variable names), and the line ends with a colon <code>:</code>.</p>
<div id="3adc165f" class="cell" data-execution_count="1">
========
<p>函数是编程中的基本构建块，允许我们将一段代码命名，并在需要的地方反复使用。运行这些语句的操作被称为调用函数。</p>
<p>在我们的学习过程中，已经接触和使用了许多 Python 的内置函数，比如 <code>len</code> 和 <code>range</code> 函数。</p>
<p>我们使用 <code>def</code> 关键字来定义函数。关键字 <code>def</code> 后面紧跟着的是函数的名字，然后是一对括号。括号内可以包含一些参数（即预设的变量名），此行语句以冒号结束。</p>
<div id="84caa6cf" class="cell" data-execution_count="1">
>>>>>>>> a0da713bf4678cbc45fcc0a7673f704354266d0e:my_python_learning_zh/docs/functions.html
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> say_hello():</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Block belonging to the function </span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'hello world'</span>)  </span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># End of function</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>say_hello() <span class="co"># Call the function  </span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>say_hello() <span class="co"># Call the function again</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>hello world
hello world</code></pre>
</div>
</div>
<p>The above code defines a function named <code>say_hello</code>. This function accepts no parameters, so there are no variables declared in the parentheses. We can pass in different arguments to let the function take different inputs and produce corresponding results.</p>
<section id="function-parameters" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="function-parameters"><span class="header-section-number">4.1</span> Function Parameters</h2>
<p>Functions can accept parameters and utilize these values to produce some effect.</p>
<p>Parameter:</p>
<ul>
<li>When defining a function, we reserve some space for the function which are called parameters. Parameters are the receivers of the function definition.</li>
<li>Parameters are defined within the function header’s parentheses, separated by commas. They are accessible within the entire function body.<br>
</li>
<li>Parameters are variables used to store the values passed in during function calls (arguments).</li>
</ul>
<p>Argument:</p>
<ul>
<li>When calling a function, we pass in some values to the function, these values are called arguments. Arguments are the inputs of a function call.<br>
</li>
<li>Arguments assign concrete values to the parameters defined in the function. Also separated by commas.</li>
</ul>
<<<<<<<< HEAD:my_python_learning_en/docs/functions.html
<p>This concept is analogous to a recipe and cooking. The list of ingredients on a recipe (e.g.&nbsp;certain grams of flour, certain grams of sugar) is like the parameter list, while the actual amount of flour and sugar you use is like the arguments.</p>
<div id="51734297" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Code sample from: A Byte of Python</span></span>
========
<p>这个概念类似于食谱和做饭。食谱上的材料列表（比如说需要多少克的面粉，多少克的糖）就像是参数列表，而你实际使用的面粉和糖的数量就像实参。</p>
<div id="e2627255" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 示例代码来源： A Byte of Python</span></span>
>>>>>>>> a0da713bf4678cbc45fcc0a7673f704354266d0e:my_python_learning_zh/docs/functions.html
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> print_max(a, b):</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> a <span class="op">&gt;</span> b:  </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(a, <span class="st">'is maximum'</span>) <span class="co"># Prints a is max  </span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> a <span class="op">==</span> b:</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(a, <span class="st">'is equal to'</span>, b) <span class="co"># Prints a is equal to b</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(b, <span class="st">'is maximum'</span>) <span class="co"># Prints b is max</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Directly pass literals  </span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>print_max(<span class="dv">3</span>, <span class="dv">4</span>)  </span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> <span class="dv">7</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Pass variables as arguments </span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>print_max(x, y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>4 is maximum
7 is maximum</code></pre>
</div>
</div>
<p>In the sample code, we defined a function called <code>print_max</code> which contains two parameters <code>a</code> and <code>b</code>. We use an <code>if..else</code> statement to find out the larger number and print it out.</p>
<p>The first time calling the <code>print_max</code> function, we directly provide numbers as arguments. In the second case, we use variables <code>x</code>, <code>y</code> as arguments when calling the function. <code>print_max(x, y)</code> causes the value of parameter <code>x</code> to be assigned the value of argument <code>x</code>, and the value of parameter <code>y</code> to be assigned the value of argument <code>y</code>.</p>
</section>
<section id="local-variables" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="local-variables"><span class="header-section-number">4.2</span> Local Variables</h2>
<ul>
<li>Variables declared inside a function definition are called “local variables”.<br>
</li>
<li>The scope of “local variables” is limited to within the function where it is declared, this constraint is called variable “scope”.<br>
</li>
<li>A variable’s scope starts from where it is declared to the end of that code block or function.<br>
</li>
<li>Local variables inside functions are viewed as independent even if variables with the same names exist outside the function. Regardless of identical names, local variables inside functions have no relation with variables outside functions.</li>
</ul>
<<<<<<<< HEAD:my_python_learning_en/docs/functions.html
<div id="a19aa0b0" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Code sample from: A Byte of Python</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">50</span>  </span>
========
<div id="6cb70498" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 示例代码来源： A Byte of Python</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">50</span></span>
>>>>>>>> a0da713bf4678cbc45fcc0a7673f704354266d0e:my_python_learning_zh/docs/functions.html
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> func(x):</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'x is'</span>, x) <span class="co"># Print x's value  </span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="dv">2</span> <span class="co"># Modify local x's value</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'Changed local x to'</span>, x) <span class="co"># Prints modified x  </span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>func(x)  </span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'x is still'</span>, x) <span class="co"># Prints original x  </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>x is 50
Changed local x to 2
x is still 50</code></pre>
</div>
</div>
<p>The first time printing variable <code>x</code> inside the function body, Python uses the value of the parameter declared before the function in the main block.</p>
<p>Next, we assign the local variable <code>x</code> in the function a value of 2. When we modify the value of local variable <code>x</code> inside the function, the <code>x</code> defined in main block remains unaffected.</p>
</section>
<section id="the-global-statement" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="the-global-statement"><span class="header-section-number">4.3</span> The global statement</h2>
<ul>
<li>When we need to assign values to variables defined on a global program level (i.e.&nbsp;not inside a specific scope like functions or classes), we normally use the global declaration statement (<code>global</code> statement).<br>
</li>
<li>The global statement tells Python we are working with a global variable instead of a local variable.<br>
</li>
<li>Note that without using global, we cannot directly modify variables defined outside functions inside the function.</li>
<li>When a variable that hasn’t been defined is referenced inside a function, Python will try to find that variable outside the function.<br>
</li>
<li>Despite this, we don’t recommend this practice as it can confuse readers when trying to understand where that variable is defined.<br>
</li>
<li>If you want to operate on variables outside functions inside the function, it’s recommended to use the <code>global</code> statement to explicitly indicate you are manipulating a globally defined variable.</li>
</ul>
<<<<<<<< HEAD:my_python_learning_en/docs/functions.html
<div id="c5bf9bea" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Code sample from: A Byte of Python</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">50</span>  </span>
========
<div id="82688c8d" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 示例代码来源： A Byte of Python</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">50</span></span>
>>>>>>>> a0da713bf4678cbc45fcc0a7673f704354266d0e:my_python_learning_zh/docs/functions.html
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> func():</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">global</span> x</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'x is'</span>, x) <span class="co"># Print x's value   </span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="dv">2</span> <span class="co"># Modify global x's value </span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'Changed global x to'</span>, x) <span class="co"># Prints modified x  </span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>func()</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Value of x is'</span>, x) <span class="co"># Prints final x  </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>x is 50
Changed global x to 2
Value of x is 2</code></pre>
</div>
</div>
<p>The <code>global</code> statement declares that <code>x</code> is a global variable - therefore, when we assign a value to <code>x</code> inside the function, the change reflects when we use <code>x</code>’s value in main block.</p>
<p>You can use the same <code>global</code> statement to specify multiple global variables, e.g.&nbsp;<code>global x, y, z</code>.</p>
</section>
<<<<<<<< HEAD:my_python_learning_en/docs/functions.html
<section id="default-parameter-values" class="level2" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="default-parameter-values"><span class="header-section-number">4.4</span> Default Parameter Values</h2>
<p>We can make some function parameters optional by setting default parameter values. When the user does not explicitly provide argument values, the function will use these set default values.</p>
<p>This can be achieved by assigning default values after the parameter names in the function definition with an equals sign (=).</p>
<div id="ddd5fe97" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Code sample from: A Byte of Python</span></span>
========
<section id="默认参数值" class="level2" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="默认参数值"><span class="header-section-number">4.4</span> 默认参数值</h2>
<p>我们可以通过设置默认参数值，使得某些函数参数变得可选。当用户没有显式提供参数值时，函数将会采用这些设置的默认值。</p>
<p>可以通过在函数定义中，在需要设置默认值的参数名后面加上等号（=）及其默认值来实现这一点。</p>
<div id="70c84443" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 示例代码来源： A Byte of Python</span></span>
>>>>>>>> a0da713bf4678cbc45fcc0a7673f704354266d0e:my_python_learning_zh/docs/functions.html
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> say(message, times<span class="op">=</span><span class="dv">1</span>):</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(message <span class="op">*</span> times)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>say(<span class="st">'Hello'</span>) <span class="co"># Prints "Hello"  </span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>say(<span class="st">'World'</span>, <span class="dv">5</span>) <span class="co"># Prints "WorldWorldWorldWorldWorld"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Hello
WorldWorldWorldWorldWorld</code></pre>
</div>
</div>
<p>The function <code>say</code> repeats printing a string a number of times we specify.</p>
<ul>
<li>When we don’t explicitly specify print times, the function defaults to printing the string once. This is achieved by setting parameter <code>times</code>’s default value to 1.<br>
</li>
<li>In the first usage case, we only pass in the string argument, so the function defaults to printing that string once.<br>
</li>
<li>In the second usage case, we pass in the string and a number 5 as arguments, indicating we want the string to print 5 times.</li>
</ul>
<p>Note:</p>
<ul>
<li>Only parameters at the end of the parameter list can have default parameter values.<br>
</li>
<li>That is, in the parameter list of a function, parameters with default values cannot occur before parameters without default values. This is because parameters are assigned positionally.<br>
</li>
<li>For example, <code>def func(a, b=5)</code> is valid, but <code>def func(a=5, b)</code> is invalid.</li>
</ul>
</section>
<section id="keyword-arguments" class="level2" data-number="4.5">
<h2 data-number="4.5" class="anchored" data-anchor-id="keyword-arguments"><span class="header-section-number">4.5</span> Keyword Arguments</h2>
<ul>
<li>If you have a function with many parameters and you want to specify only some of them, you can use named arguments.<br>
</li>
<li>Such arguments are called keyword arguments, where the specification of parameter values is by parameter names (keywords) instead of positions (which is what we have been using so far).</li>
<li>Using keyword arguments allows us to call functions more flexibly without needing to match the order of parameters as defined in the function.<br>
</li>
<li>As long as the other parameters have default values, we can assign values only to the parameters we want.</li>
</ul>
<<<<<<<< HEAD:my_python_learning_en/docs/functions.html
<div id="835f3715" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Code sample from: A Byte of Python  </span></span>
========
<div id="23466e57" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 示例代码来源： A Byte of Python</span></span>
>>>>>>>> a0da713bf4678cbc45fcc0a7673f704354266d0e:my_python_learning_zh/docs/functions.html
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> func(a, b<span class="op">=</span><span class="dv">5</span>, c<span class="op">=</span><span class="dv">10</span>):</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'a is'</span>, a, <span class="st">'and b is'</span>, b, <span class="st">'and c is'</span>, c)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>func(<span class="dv">3</span>, <span class="dv">7</span>)  </span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>func(<span class="dv">25</span>, c<span class="op">=</span><span class="dv">24</span>)</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>func(c<span class="op">=</span><span class="dv">50</span>, a<span class="op">=</span><span class="dv">100</span>)   </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>a is 3 and b is 7 and c is 10
a is 25 and b is 5 and c is 24
a is 100 and b is 5 and c is 50</code></pre>
</div>
</div>
<p>The function named <code>func</code> has one parameter without default value, followed by two parameters with default values.</p>
<ul>
<li>In the first usage, <code>func(3, 7)</code>, parameter <code>a</code> gets value 3, parameter <code>b</code> gets value 7, and <code>c</code> gets the default value 10.<br>
</li>
<li>In the second usage, <code>func(25, c=24)</code>, 25 gets assigned to parameter <code>a</code> due to position. Then parameter <code>c</code> gets value 24 due to named arguments. Parameter <code>b</code> gets the default value 5.<br>
</li>
<li>In the third usage, we use keyword arguments for all specified values.<br>
</li>
<li>Note that although in the function definition, parameter <code>a</code> comes before parameter <code>c</code>, we can still assign a value to parameter <code>c</code> first before assigning to parameter <code>a</code>. This is a characteristic of keyword arguments.</li>
</ul>
</section>
<<<<<<<< HEAD:my_python_learning_en/docs/functions.html
<section id="variable-arguments" class="level2" data-number="4.6">
<h2 data-number="4.6" class="anchored" data-anchor-id="variable-arguments"><span class="header-section-number">4.6</span> Variable Arguments</h2>
<p>Variable arguments are a special kind of parameter that can accept any number of arguments. This is very useful in cases when you don’t know beforehand how many arguments will be passed to the function, or the number varies.</p>
<p>In Python, variable arguments are indicated by adding an asterisk (*) before the parameter name.</p>
<div id="2a049e47" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Code sample from: A Byte of Python</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> total(a<span class="op">=</span><span class="dv">5</span>, <span class="op">*</span>numbers, <span class="op">**</span>phonebook):  </span>
========
<section id="可变参数" class="level2" data-number="4.6">
<h2 data-number="4.6" class="anchored" data-anchor-id="可变参数"><span class="header-section-number">4.6</span> 可变参数</h2>
<p>可变参数是一种特殊的参数，它可以接收任意数量的参数。这在你预先不知道会有多少参数被传入函数，或者数量会变化的情况下非常有用。</p>
<p>在Python中，可变参数是通过在参数前面添加星号（*）来表示的。</p>
<div id="8a14f3da" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 示例代码来源： A Byte of Python</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> total(a<span class="op">=</span><span class="dv">5</span>, <span class="op">*</span>numbers, <span class="op">**</span>phonebook):</span>
>>>>>>>> a0da713bf4678cbc45fcc0a7673f704354266d0e:my_python_learning_zh/docs/functions.html
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'a'</span>, a)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Traverse through all items in the tuple   </span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> single_item <span class="kw">in</span> numbers:</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">'single_item'</span>, single_item)</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Traverse through all items in the dictionary     </span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> first_part, second_part <span class="kw">in</span> phonebook.items():</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(first_part,second_part)</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>total(<span class="dv">10</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, Jack<span class="op">=</span><span class="dv">1123</span>, John<span class="op">=</span><span class="dv">2231</span>, Inge<span class="op">=</span><span class="dv">1560</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>a 10
single_item 1
single_item 2
single_item 3
Jack 1123
John 2231
Inge 1560</code></pre>
</div>
</div>
<ul>
<li>When we declare a starred parameter like <code>*param</code>, all positional arguments from that point till the end will be collected into a tuple named ‘param’.<br>
</li>
<li>Similarly, when we declare a double-starred parameter like <code>**param</code>, all keyword arguments from that point till the end will be collected into a dictionary named ‘param’.<br>
</li>
<li>We can access these arguments inside the function just like traversing a normal tuple or dictionary.</li>
<li>A function can only have one variable argument, and it must come after all the positional and default parameters.</li>
</ul>
</section>
<<<<<<<< HEAD:my_python_learning_en/docs/functions.html
<section id="the-return-statement" class="level2" data-number="4.7">
<h2 data-number="4.7" class="anchored" data-anchor-id="the-return-statement"><span class="header-section-number">4.7</span> The <code>return</code> Statement</h2>
<p>The <code>return</code> statement is used to return results from functions or end function execution.</p>
<p>Inside a function, an expression after a <code>return</code> statement can have a value, and that value gets returned from the function.</p>
<div id="ec11e701" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Code sample from: A Byte of Python</span></span>
========
<section id="return-语句" class="level2" data-number="4.7">
<h2 data-number="4.7" class="anchored" data-anchor-id="return-语句"><span class="header-section-number">4.7</span> <code>return</code> 语句</h2>
<p><code>return</code> 语句用于从函数中返回结果或者结束函数的运行。</p>
<p>在一个函数中，<code>return</code> 语句后面可以跟一个表达式，此表达式的值就是这个函数的返回值。</p>
<div id="6002c5ad" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 示例代码来源： A Byte of Python</span></span>
>>>>>>>> a0da713bf4678cbc45fcc0a7673f704354266d0e:my_python_learning_zh/docs/functions.html
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> maximum(x, y):</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> x <span class="op">&gt;</span> y:</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> x  </span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> x <span class="op">==</span> y: </span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">'The numbers are equal'</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> y</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(maximum(<span class="dv">2</span>, <span class="dv">3</span>))  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>3</code></pre>
</div>
</div>
<ul>
<li>In this function, the <code>maximum</code> function uses a simple <code>if..else</code> statement to find the larger value and returns that value.<br>
</li>
<li>In this case, if we call <code>maximum(2, 3)</code>, the return value of this function would be 3.</li>
<li>Note that once a <code>return</code> statement is executed, the function execution immediately stops and the code after it does not get executed.<br>
</li>
<li>Note that a statement without a value is equivalent to <code>return None</code>. In Python, <code>None</code> is a special type indicating no value.</li>
<li>Every function implicitly has a <code>return None</code> at the end unless you have written a <code>return</code> statement yourself.<br>
</li>
<li>There is a built-in function called <code>max</code> that already implements “finding maximum value” functionality. So use that built-in function wherever possible.</li>
</ul>
</section>
<<<<<<<< HEAD:my_python_learning_en/docs/functions.html
<section id="docstrings" class="level2" data-number="4.8">
<h2 data-number="4.8" class="anchored" data-anchor-id="docstrings"><span class="header-section-number">4.8</span> Docstrings</h2>
<p>Docstrings refer to documentation strings in Python that are a way of documenting functions, methods, classes, modules etc with an invaluable reference purpose.</p>
<p>Docstrings are located on the first line of function, method, class and module definitions, enclosed within a pair of triple quotes <code>"""</code> or <code>'''</code>, which can be single line or multi-line.</p>
<div id="1fd6aedf" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Code sample from: A Byte of Python</span></span>
========
<section id="文档字符串" class="level2" data-number="4.8">
<h2 data-number="4.8" class="anchored" data-anchor-id="文档字符串"><span class="header-section-number">4.8</span> 文档字符串</h2>
<p>文档字符串，英文称为<code>Docstrings</code>，是一种在Python中对函数、方法、类、模块等提供说明的注释方式，具有非常重要的参考价值。</p>
<p>文档字符串位于函数、方法、类、模块定义的第一行，由一对三引号(“““或’’’)引起来，可以是单行也可以是多行。</p>
<div id="76862c78" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 示例代码来源： A Byte of Python</span></span>
>>>>>>>> a0da713bf4678cbc45fcc0a7673f704354266d0e:my_python_learning_zh/docs/functions.html
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> print_max(x, y):</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">'''Prints the maximum of two numbers.</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="co">    The two values must be integers.'''</span>  </span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># convert to integers, if possible</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="bu">int</span>(x)</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> <span class="bu">int</span>(y)</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> x <span class="op">&gt;</span> y:</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(x, <span class="st">'is maximum'</span>)</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>: </span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(y, <span class="st">'is maximum'</span>)</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>print_max(<span class="dv">3</span>, <span class="dv">5</span>)  </span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(print_max.__doc__)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>5 is maximum
Prints the maximum of two numbers.

    The two values must be integers.</code></pre>
</div>
</div>
<ul>
<li>The convention for docstrings is to have a multi-line string where the first line starts with a capital letter and ends with a dot. Then the second line is blank, followed by any detailed explanation starting from the third line.<br>
</li>
<li>It is strongly recommended that you follow this convention for docstrings in all non-trivial functions.<br>
</li>
<li>In this example, we can access the docstring of function <code>print_max</code> with the <code>__doc__</code> attribute (note the double underscores) of that function.<br>
</li>
<li>The functionality of Python’s help() is to retrieve this <code>__doc__</code> attribute and present it in a neat manner. You can try <code>help(print_max)</code> to view the docstring for <code>print_max</code>.</li>
<li>Automated tools can retrieve documentation from your programs this way. So it is highly recommended to use docstrings when writing any non-trivial functions.</li>
</ul>
</section>
<section id="装饰器" class="level2" data-number="4.9">
<h2 data-number="4.9" class="anchored" data-anchor-id="装饰器"><span class="header-section-number">4.9</span> 装饰器</h2>
<p>装饰器（Decorators）是Python中一个非常强大且有用的特性，它允许程序员修改或增强一个函数、方法或类的行为，而不需要直接修改其本身的代码。装饰器本质上是一个函数，它接受一个函数作为参数并返回一个新的函数。通过这种方式，装饰器提供了一种灵活的方法来“装饰”或“包装”另一个函数，以便在调用原始函数之前或之后执行额外的代码。</p>
<section id="基本使用" class="level3" data-number="4.9.1">
<h3 data-number="4.9.1" class="anchored" data-anchor-id="基本使用"><span class="header-section-number">4.9.1</span> 基本使用</h3>
<p>装饰器的基本语法如下：</p>
<div id="86f1f9a4" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> my_decorator(func):</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> wrapper():</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 在func被调用前可以执行一些代码</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Something is happening before the function is called."</span>)</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>        func()</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 在func被调用后可以执行一些代码</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Something is happening after the function is called."</span>)</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> wrapper</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 使用装饰器</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="at">@my_decorator</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> say_hello():</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Hello!"</span>)</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a><span class="co"># 调用函数</span></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>say_hello()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Something is happening before the function is called.
Hello!
Something is happening after the function is called.</code></pre>
</div>
</div>
<p>在这个例子中，<code>my_decorator</code> 是一个装饰器，它接受一个函数 <code>func</code> 作为参数，并返回一个新的函数 <code>wrapper</code>。<code>wrapper</code> 函数在调用 <code>func</code> 前后添加了额外的行为。使用 <code>@my_decorator</code> 语法，我们“装饰”了 <code>say_hello</code> 函数，使得在调用 <code>say_hello</code> 时，实际上是调用了 <code>wrapper</code> 函数。</p>
</section>
<section id="带参数的函数装饰器" class="level3" data-number="4.9.2">
<h3 data-number="4.9.2" class="anchored" data-anchor-id="带参数的函数装饰器"><span class="header-section-number">4.9.2</span> 带参数的函数装饰器</h3>
<p>如果原始函数需要接受参数，装饰器可以通过在 <code>wrapper</code> 函数中使用 <code>*args</code> 和 <code>**kwargs</code> 来接受任意数量的位置参数和关键字参数：</p>
<div id="4b7516e7" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> my_decorator(func):</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> wrapper(<span class="op">*</span>args, <span class="op">**</span>kwargs):</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Something is happening before the function is called."</span>)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>        result <span class="op">=</span> func(<span class="op">*</span>args, <span class="op">**</span>kwargs)</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Something is happening after the function is called."</span>)</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> result</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> wrapper</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="at">@my_decorator</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> say(message):</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(message)</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>say(<span class="st">"Hello with decorator!"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Something is happening before the function is called.
Hello with decorator!
Something is happening after the function is called.</code></pre>
</div>
</div>
</section>
<section id="带参数的装饰器" class="level3" data-number="4.9.3">
<h3 data-number="4.9.3" class="anchored" data-anchor-id="带参数的装饰器"><span class="header-section-number">4.9.3</span> 带参数的装饰器</h3>
<p>有时候，我们希望装饰器本身能够接受参数。这需要我们创建一个“返回装饰器的装饰器”的函数：</p>
<div id="b70fcb34" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> repeat(number_of_times):</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> decorator_repeat(func):</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>        <span class="kw">def</span> wrapper(<span class="op">*</span>args, <span class="op">**</span>kwargs):</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(number_of_times):</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>                result <span class="op">=</span> func(<span class="op">*</span>args, <span class="op">**</span>kwargs)</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> result</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> wrapper</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> decorator_repeat</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a><span class="at">@repeat</span>(number_of_times<span class="op">=</span><span class="dv">3</span>)</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> greet(name):</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Hello </span><span class="sc">{</span>name<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>greet(<span class="st">"World"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Hello World
Hello World
Hello World</code></pre>
</div>
</div>
<p>在这个例子中，<code>repeat</code> 函数是一个接受参数 <code>number_of_times</code> 的装饰器。它内部定义了装饰器 <code>decorator_repeat</code>，<code>decorator_repeat</code> 又定义了 <code>wrapper</code> 函数。这样，我们就可以控制 <code>greet</code> 函数被重复执行的次数。</p>
</section>
<section id="装饰器的实际应用" class="level3" data-number="4.9.4">
<h3 data-number="4.9.4" class="anchored" data-anchor-id="装饰器的实际应用"><span class="header-section-number">4.9.4</span> 装饰器的实际应用</h3>
<p>装饰器在实际编程中有许多有用的应用场景，包括：</p>
<ul>
<li>日志记录：在函数执行前后记录日志信息。</li>
<li>性能测试：记录函数的执行时间，用于性能分析。</li>
<li>权限验证：检查执行函数之前用户的权限。</li>
<li>缓存：缓存函数的返回结果，提高性能。</li>
</ul>
<p>装饰器提供了一种优雅的方式来增强函数的功能，而不需要修改原始函数的代码，使得代码更加模块化和可重用。学习如何有效地使用装饰器，是成为一名高效Python程序员的重要步骤之一。</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./control_flow.html" class="pagination-link" aria-label="Control Flow">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Control Flow</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./modules.html" class="pagination-link" aria-label="Modules">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Modules</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/exusiaiwei/My-Python-Learning/edit/main/functions.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li></ul></div></div></div></footer></body></html>